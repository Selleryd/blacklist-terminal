<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blacklist Entry Encryptor</title>
  <style>
    body {
      font-family: monospace;
      background: #111;
      color: #0f0;
      padding: 20px;
    }
    label, input {
      display: block;
      margin: 10px 0;
    }
    input, button, textarea {
      font-family: monospace;
      font-size: 16px;
      padding: 8px;
      width: 100%;
      max-width: 500px;
    }
    textarea {
      height: 200px;
    }
  </style>
</head>
<body>
  <h2>Encrypt a New Blacklist Entry</h2>

  <label for="nameInput">Name:</label>
  <input type="text" id="nameInput" placeholder="e.g. John Doe">

  <label for="reasonInput">Reason:</label>
  <input type="text" id="reasonInput" placeholder="e.g. Fraud, theft, etc.">

  <label for="passkeyInput">Password (e.g. "830020" or "notrust"):</label>
  <input type="text" id="passkeyInput" placeholder="Enter your encryption key">

  <button onclick="generateEncrypted()">Generate Encrypted Entry</button>

  <pre id="output"></pre>

  <button onclick="addToCode()">Add to Code Block</button>

  <h3>Blacklist Code Block:</h3>
  <textarea id="codeBlock" readonly></textarea>

  <script>
    function xorEncode(str, key) {
      const keyCharCode = key.charCodeAt(0);
      let hex = '';
      for (let i = 0; i < str.length; i++) {
        hex += (str.charCodeAt(i) ^ keyCharCode).toString(16).padStart(2, '0');
      }
      return hex;
    }

    let lastEntry = "";

    function generateEncrypted() {
      const name = document.getElementById('nameInput').value.trim();
      const reason = document.getElementById('reasonInput').value.trim();
      const passkey = document.getElementById('passkeyInput').value.trim();

      if (!name || !reason || !passkey) {
        alert("All fields are required.");
        return;
      }

      const id = xorEncode(name, passkey);
      const encryptedReason = xorEncode(reason, passkey);

      const code = `{ id: "${id}", reason: "${encryptedReason}" }`;
      document.getElementById('output').textContent = code;
      lastEntry = code;
    }

    function addToCode() {
      if (!lastEntry) return;
      const codeBlock = document.getElementById('codeBlock');
      codeBlock.value += (codeBlock.value ? ',\n' : '') + lastEntry;
    }
  </script>
</body>
</html>
